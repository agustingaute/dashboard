/* ============================================================
   DASHBOARD — Signal (Contrast)
   Dark base, white accent cards. iOS widget energy.
   ============================================================ */

/* ── Fuentes ── */
/* Barlow Condensed : números grandes              */
/* Space Grotesk    : labels, body, tablas         */

:root {
  /* Base — grises medios, contraste suavizado */
  --bg:         #0D0D0D;
  --bg-card:    #262626;
  --bg-hover:   #2F2F2F;
  --border:     rgba(255,255,255,0.09);
  --border-hi:  rgba(255,255,255,0.18);

  /* Texto (sobre cards oscuras) */
  --txt:        #E8E8E8;
  --txt-mid:    rgba(232,232,232,0.50);
  --txt-dim:    rgba(232,232,232,0.26);

  /* Cards claras — variables override locales */
  --card-light-bg:    #E2E2E2;
  --card-light-txt:   #181818;
  --card-light-mid:   rgba(24,24,24,0.50);
  --card-light-dim:   rgba(24,24,24,0.30);
  --card-light-border:rgba(0,0,0,0.10);

  /* Acentos — rojo River como protagonista, sin cyan */
  --cyan:       #E8253A;
  --cyan-glow:  rgba(232,37,58,0.18);
  --cyan-dim:   rgba(232,37,58,0.08);
  --red:        #E8253A;
  --red-dim:    rgba(232,37,58,0.12);
  --green:      #2ECC71;
  --green-dim:  rgba(46,204,113,0.12);
  --orange:     #E8253A;
  --purple:     #E8253A;

  /* Radios */
  --r:          12px;
  --r-sm:       7px;

  /* Topbar */
  --topbar-h:   38px;

  /* Grid gap */
  --gap:        8px;
}

/* ── Reset ── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { height: 100%; }

body {
  height: 100vh;
  max-height: 100vh;
  font-family: 'Space Grotesk', system-ui, sans-serif;
  background: var(--bg);
  color: var(--txt);
  -webkit-font-smoothing: antialiased;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Subtle background grid lines */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-image:
    linear-gradient(rgba(255,255,255,0.022) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,0.022) 1px, transparent 1px);
  background-size: 40px 40px;
}

/* ============================================================
   TOPBAR
   ============================================================ */
.topbar {
  height: var(--topbar-h);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 14px;
  border-bottom: 1px solid var(--border);
  background: var(--bg);
  position: sticky;
  top: 0;
  z-index: 100;
  flex-shrink: 0;
}

.topbar__left {
  display: flex;
  align-items: center;
  gap: 7px;
}

.topbar__dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--green);
  box-shadow: 0 0 8px var(--green);
  animation: pulse-dot 2s ease-in-out infinite;
}
@keyframes pulse-dot {
  0%, 100% { opacity: 1; box-shadow: 0 0 8px var(--green); }
  50%       { opacity: 0.5; box-shadow: 0 0 3px var(--green); }
}

.topbar__label {
  font-family: 'Space Grotesk', sans-serif;
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 0.2em;
  color: var(--green);
  text-transform: uppercase;
}

.topbar__center {
  display: flex;
  align-items: center;
  gap: 8px;
}

.topbar__clock {
  font-family: 'Space Grotesk', monospace;
  font-size: 13px;
  font-weight: 600;
  color: var(--txt);
  font-variant-numeric: tabular-nums;
  letter-spacing: 0.04em;
}

.topbar__sep {
  color: var(--txt-dim);
  font-size: 11px;
}

.topbar__date {
  font-size: 11px;
  color: var(--txt-mid);
  font-weight: 400;
  text-transform: capitalize;
  letter-spacing: 0.01em;
}

.topbar__brand {
  font-family: 'Syne', sans-serif;
  font-size: 9px;
  font-weight: 800;
  letter-spacing: 0.3em;
  color: var(--txt-dim);
  text-transform: uppercase;
}

/* ============================================================
   MAIN GRID
   ============================================================ */
.grid {
  flex: 1;
  min-height: 0;
  display: grid;
  grid-template-columns: 1fr 1.6fr 1fr;
  grid-template-rows: 1.4fr 2.6fr 3fr;
  gap: var(--gap);
  padding: var(--gap);
  position: relative;
  z-index: 1;
}

/* Cell placement */
.cell--dollar    { grid-column: 1; grid-row: 1; }
.cell--crypto    { grid-column: 2; grid-row: 1; }
.cell--weather   { grid-column: 3; grid-row: 1; }
.cell--fixtures  { grid-column: 1; grid-row: 2; }
.cell--standings { grid-column: 2 / 4; grid-row: 2; }
.cell--standings .cell__body { overflow: hidden; }
.cell--calendar  { grid-column: 1 / 4; grid-row: 3; }

/* ============================================================
   CELL — base
   ============================================================ */
.cell {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: var(--r);
  padding: 14px 16px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  position: relative;
  overflow: hidden;
  min-height: 0;
  min-width: 0;
  transition: border-color 0.2s;
}
.cell:hover { border-color: var(--border-hi); }

/* Top accent line */
.cell::before {
  content: '';
  position: absolute;
  top: 0; left: 16px; right: 16px;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--cyan), transparent);
  opacity: 0;
  transition: opacity 0.3s;
}
.cell:hover::before { opacity: 0.5; }

/* River red accent for fixtures */
.cell--fixtures::before {
  background: linear-gradient(90deg, transparent, var(--red), transparent);
  opacity: 0.6 !important;
}

/* ── Light accent cards: dólar, cripto, clima, calendario ── */
.cell--dollar,
.cell--crypto,
.cell--weather,
.cell--calendar {
  background: var(--card-light-bg);
  border-color: var(--card-light-border);
  color: var(--card-light-txt);
  --txt:      var(--card-light-txt);
  --txt-mid:  var(--card-light-mid);
  --txt-dim:  var(--card-light-dim);
  --border:   var(--card-light-border);
  --border-hi:rgba(0,0,0,0.16);
  --bg-hover: #D8D8D8;
}
.cell--dollar:hover,
.cell--crypto:hover,
.cell--weather:hover,
.cell--calendar:hover { border-color: rgba(0,0,0,0.16); }
.cell--dollar::before,
.cell--crypto::before,
.cell--weather::before,
.cell--calendar::before { display: none; }

.cell__label {
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--txt-dim);
}
.label__sub {
  font-weight: 400;
  letter-spacing: 0.08em;
  text-transform: none;
  color: var(--txt-dim);
  opacity: 0.7;
}

.cell__body {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

/* ============================================================
   SKELETON
   ============================================================ */
@keyframes shimmer {
  0%   { background-position: -400% 0; }
  100% { background-position:  400% 0; }
}
.skeleton-line {
  height: 10px;
  border-radius: 4px;
  background: linear-gradient(90deg,
    rgba(0,0,0,0.04) 25%,
    rgba(0,0,0,0.08) 50%,
    rgba(0,0,0,0.04) 75%);
  background-size: 400% 100%;
  animation: shimmer 1.8s infinite;
  margin-bottom: 8px;
}
.skeleton-line.short { width: 45%; }

/* ============================================================
   ENTRADA ANIMADA
   ============================================================ */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ============================================================
   DÓLAR — stacked, número como protagonista absoluto
   ============================================================ */
.dollar-grid {
  display: flex;
  flex-direction: row;
  gap: 0;
  flex: 1;
  animation: fadeUp 0.4s ease both;
}

.dollar-row {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 8px;
  padding: 0 20px 0 0;
  border-right: 1px solid var(--border);
}
.dollar-row:last-child {
  border-right: none;
  padding: 0 0 0 20px;
}

.dollar-label {
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--txt);
}

.dollar-value {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: clamp(24px, 4vh, 46px);
  font-weight: 900;
  letter-spacing: -0.01em;
  color: var(--txt);
  line-height: 1;
  font-variant-numeric: tabular-nums;
}

/* ============================================================
   CRIPTO — cada coin con su número prominente
   ============================================================ */
.crypto-grid {
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  flex: 1;
  gap: 0;
  animation: fadeUp 0.4s ease both;
}

.crypto-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex: 1;
  min-height: 0;
  border-bottom: 1px solid var(--border);
}
.crypto-row:last-child { border-bottom: none; }

.crypto-left {
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0;
}

.crypto-ticker {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: clamp(18px, 2.5vh, 28px);
  font-weight: 800;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  flex-shrink: 0;
}
.crypto-ticker--btc { color: var(--red); }
.crypto-ticker--eth { color: var(--txt-mid); }

.crypto-name {
  font-size: 11px;
  font-weight: 400;
  color: var(--txt-mid);
  letter-spacing: 0.01em;
  white-space: nowrap;
}

.crypto-right {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: center;
  gap: 4px;
  flex-shrink: 0;
}

.crypto-value {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: clamp(20px, 3.2vh, 38px);
  font-weight: 900;
  letter-spacing: -0.01em;
  color: var(--txt);
  line-height: 1;
  font-variant-numeric: tabular-nums;
}

.crypto-change {
  font-size: 11px;
  font-weight: 600;
  white-space: nowrap;
  letter-spacing: 0.01em;
}
.crypto-change.pos { color: var(--green); }
.crypto-change.neg { color: var(--red);   }

/* ============================================================
   CLIMA — temperatura dominante, lugar como contexto
   ============================================================ */
.weather-grid {
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  flex: 1;
  gap: 0;
  animation: fadeUp 0.4s ease both;
}

.weather-row {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  min-height: 0;
  border-bottom: 1px solid var(--border);
}
.weather-row:last-child { border-bottom: none; }

.weather-left {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 5px;
  min-width: 0;
}

.weather-place {
  font-size: 16px;
  font-weight: 600;
  color: var(--txt);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  letter-spacing: 0.01em;
}

.weather-note {
  font-size: 11px;
  font-weight: 400;
  color: var(--txt-mid);
  white-space: nowrap;
  letter-spacing: 0.01em;
}

.weather-right {
  flex-shrink: 0;
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
}

.weather-icon {
  color: var(--txt-mid);
  line-height: 0;
}
.weather-icon svg { width: 32px; height: 32px; }

.weather-temp {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: clamp(24px, 4vh, 46px);
  font-weight: 900;
  letter-spacing: -0.01em;
  color: var(--txt);
  line-height: 1;
}

/* ============================================================
   ERROR / RETRY
   ============================================================ */
.error-state {
  display: flex;
  flex-direction: column;
  gap: 4px;
  color: var(--txt-dim);
  font-size: 10px;
}
.error-state .error-msg {
  font-size: 9px;
  color: rgba(232,37,58,0.7);
}
.retry-btn {
  margin-top: 4px;
  display: inline-block;
  padding: 3px 10px;
  border: 1px solid var(--border);
  border-radius: var(--r-sm);
  background: transparent;
  color: var(--txt-dim);
  font-size: 9px;
  font-family: inherit;
  letter-spacing: 0.06em;
  cursor: pointer;
  transition: all 0.15s;
}
.retry-btn:hover {
  background: var(--bg-hover);
  color: var(--txt);
  border-color: var(--border-hi);
}

/* ============================================================
   FIXTURES
   ============================================================ */
.fixture-list {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-height: 0;
}

.fixture-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex: 1;
  min-height: 0;
  padding: 0;
  border-bottom: 1px solid var(--border);
  gap: 10px;
  animation: fadeUp 0.4s ease both;
}
.fixture-row:last-child { border-bottom: none; }
.fixture-row:nth-child(1) { animation-delay: 0.04s; }
.fixture-row:nth-child(2) { animation-delay: 0.08s; }
.fixture-row:nth-child(3) { animation-delay: 0.12s; }
.fixture-row:nth-child(4) { animation-delay: 0.16s; }
.fixture-row:nth-child(5) { animation-delay: 0.20s; }
.fixture-row:nth-child(6) { animation-delay: 0.24s; }

.fixture-match {
  font-size: clamp(10px, 1.4vh, 14px);
  font-weight: 600;
  color: var(--txt);
  flex: 1;
  line-height: 1.3;
  display: flex;
  align-items: center;
  gap: 7px;
}

.fixture-tag {
  font-size: 7.5px;
  font-weight: 700;
  letter-spacing: 0.1em;
  padding: 2px 6px;
  border-radius: 3px;
  flex-shrink: 0;
  text-transform: uppercase;
}
.fixture-tag.local  { background: var(--red-dim); color: var(--red); border: 1px solid rgba(232,37,58,0.2); }
.fixture-tag.visita { background: var(--bg-hover); color: var(--txt-dim); border: 1px solid var(--border); }

.fixture-when { text-align: right; flex-shrink: 0; }
.fixture-date {
  display: block;
  font-size: clamp(9px, 1.2vh, 12px);
  font-weight: 600;
  color: var(--txt-mid);
  font-variant-numeric: tabular-nums;
}
.fixture-time {
  display: block;
  font-size: clamp(8px, 1.1vh, 11px);
  font-weight: 500;
  color: var(--txt-dim);
  margin-top: 2px;
  font-variant-numeric: tabular-nums;
}

/* ============================================================
   STANDINGS
   ============================================================ */
.standings-zone-inline {
  font-size: 9px;
  font-weight: 500;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--txt-dim);
  margin-left: 5px;
  vertical-align: middle;
}

.standings-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 11.5px;
}

.standings-table thead th {
  text-align: left;
  padding: 0 6px clamp(4px, 0.8vh, 8px);
  font-size: clamp(7px, 0.9vh, 9px);
  font-weight: 700;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--txt-dim);
  border-bottom: 1px solid var(--border-hi);
}
.standings-table thead th.num { text-align: center; }

.standings-table tbody tr {
  border-bottom: 1px solid var(--border);
  transition: background 0.12s;
}
.standings-table tbody tr:last-child { border-bottom: none; }
.standings-table tbody tr:has(+ .standings-sep) { border-bottom: none; }
.standings-table tbody tr:hover { background: var(--bg-hover); }

.standings-sep td {
  padding: 0 !important;
  height: 0;
  border: none !important;
  border-top: 2px solid rgba(255,255,255,0.18) !important;
}
.standings-sep + tr td { padding-top: clamp(4px, 0.7vh, 7px); }

.standings-table tbody tr.is-river {
  background: var(--red-dim);
}
.standings-table tbody tr.is-river:hover { background: rgba(232,37,58,0.18); }
.standings-table tbody tr.is-river td { color: rgba(232,37,58,0.85) !important; font-weight: 600; }
.standings-table tbody tr.is-river td.team { color: var(--txt) !important; font-weight: 700; }
.standings-table tbody tr.is-river td.pts  { color: var(--red) !important; }

.standings-table tbody td {
  padding: clamp(2px, 0.7vh, 7px) 6px;
  color: var(--txt-mid);
  font-size: clamp(9px, 1.2vh, 12px);
}
.standings-table tbody td.num {
  text-align: center;
  width: 30px;
  font-weight: 600;
  font-size: clamp(9px, 1.1vh, 11px);
  font-variant-numeric: tabular-nums;
}
.standings-table tbody td.pos {
  font-weight: 700;
  width: 26px;
  text-align: center;
  color: var(--txt-dim);
  font-size: clamp(9px, 1.1vh, 11px);
}
.standings-table tbody td.team { font-weight: 500; color: var(--txt); }
.standings-table tbody td.pts  {
  font-family: 'Barlow Condensed', sans-serif;
  font-weight: 800;
  font-size: clamp(12px, 1.6vh, 17px);
  color: var(--txt);
}

/* ============================================================
   CALENDAR
   ============================================================ */
.cell--calendar .cell__body {
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.mcal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}

.mcal-month-label {
  font-family: 'Syne', sans-serif;
  font-size: 14px;
  font-weight: 700;
  color: var(--txt);
  text-transform: capitalize;
  letter-spacing: -0.01em;
}

.mcal-legend {
  display: flex;
  gap: 10px;
  align-items: center;
}

.mcal-legend-item {
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 8px;
  font-weight: 600;
  color: var(--txt-dim);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.mcal-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  grid-auto-rows: 1fr;
  gap: 2px;
  flex: 1;
  min-height: 0;
}

.mcal-dow {
  font-size: 8px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--txt-dim);
  text-align: center;
  padding-bottom: 7px;
  border-bottom: 1px solid var(--border);
}

.mcal-cell {
  min-height: 0;
  padding: 5px 5px 4px;
  border-radius: var(--r-sm);
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
  background: var(--day-shade, transparent);
  border: 1px solid transparent;
  transition: border-color 0.15s, background 0.15s;
}
.mcal-cell:hover {
  background: var(--bg-hover) !important;
  border-color: var(--border-hi);
}
.mcal-cell--empty { background: transparent !important; pointer-events: none; }
.mcal-cell--today {
  background: rgba(232,37,58,0.06) !important;
  border-color: rgba(232,37,58,0.22) !important;
}

.mcal-num {
  font-size: 9px;
  font-weight: 700;
  color: var(--txt-dim);
  line-height: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  align-self: center;
  font-variant-numeric: tabular-nums;
}
.mcal-num--today {
  background: var(--cyan);
  color: var(--bg);
  border-radius: 50%;
  font-weight: 800;
  box-shadow: 0 0 10px var(--cyan-glow);
}

.mcal-events {
  display: flex;
  flex-direction: column;
  gap: 2px;
  width: 100%;
}

.mcal-event-pill {
  display: flex;
  align-items: center;
  gap: 3px;
  width: 100%;
  overflow: hidden;
}

.mcal-event-dot {
  width: 5px;
  height: 5px;
  border-radius: 50%;
  flex-shrink: 0;
}

.mcal-event-label {
  font-size: 9.5px;
  font-weight: 600;
  color: var(--txt-mid);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex: 1;
  line-height: 1.3;
}

.mcal-event-more {
  font-size: 8.5px;
  color: var(--txt-dim);
  font-weight: 500;
  line-height: 1.3;
  align-self: flex-start;
}

.cal-empty {
  font-size: 12px;
  color: var(--txt-dim);
  padding: 6px 0;
}

/* ============================================================
   TOOLTIP
   ============================================================ */
#cal-tooltip {
  position: fixed;
  z-index: 9999;
  pointer-events: none;
  color: var(--txt);
  background: #141A22;
  border: 1px solid var(--border-hi);
  font-size: 11px;
  font-weight: 600;
  line-height: 1.6;
  padding: 8px 12px;
  border-radius: var(--r-sm);
  box-shadow: 0 8px 32px rgba(0,0,0,0.5);
  white-space: pre-wrap;
  word-break: break-word;
  max-width: 240px;
  display: none;
}

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width: 700px) {
  .grid {
    grid-template-columns: 1fr;
    grid-template-rows: auto;
  }
  .cell--dollar,
  .cell--crypto,
  .cell--weather,
  .cell--fixtures,
  .cell--standings,
  .cell--calendar {
    grid-column: 1;
    grid-row: auto;
  }
}
